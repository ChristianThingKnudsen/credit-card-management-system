<h1 class="md-headline">Add credit card</h1>
<form [formGroup]="creditCardForm" (ngSubmit)="addCreditCard()">
  <div class="form-wrapper">
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="card_number">Card number</mat-label>
      <input
        matInput
        placeholder="Some number"
        type="number"
        formControlName="card_number"
      />
    </mat-form-field>

    <div
      *ngIf="card_number.invalid && (card_number.dirty || card_number.touched)"
    >
      <div *ngIf="card_number.errors?.required">Field is required</div>
      <div *ngIf="card_number.errors?.min?.min">
        Must be at least {{ card_number.errors?.min?.min }}
      </div>
      <div *ngIf="card_number.errors?.max?.max">
        Must be less than {{ card_number.errors?.max?.max }}
      </div>
    </div>
    <hr />
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="cardholder_name">Name: </mat-label>
      <input matInput type="text" formControlName="cardholder_name" />
    </mat-form-field>

    <div
      *ngIf="
        cardholder_name.invalid &&
        (cardholder_name.dirty || cardholder_name.touched)
      "
    >
      <div *ngIf="cardholder_name.errors?.required">Field is required</div>
    </div>
    <hr />
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="csc_code">CSC: </mat-label>
      <input matInput type="number" formControlName="csc_code" />
    </mat-form-field>

    <div *ngIf="csc_code.invalid && (csc_code.dirty || csc_code.touched)">
      <div *ngIf="csc_code.errors?.required">Field is required</div>
      <div *ngIf="csc_code.errors?.min?.min || csc_code.errors?.max?.max">
        Must have length 3
      </div>
    </div>
    <hr />
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="expiration_date_month">Expiration date month: </mat-label>
      <input matInput type="number" formControlName="expiration_date_month" />
    </mat-form-field>

    <div
      *ngIf="
        expiration_date_month.invalid &&
        (expiration_date_month.dirty || expiration_date_month.touched)
      "
    >
      <div *ngIf="expiration_date_month.errors?.required">
        Field is required
      </div>
      <div
        *ngIf="
          expiration_date_month.errors?.min?.min ||
          expiration_date_month.errors?.max?.max
        "
      >
        Must be between
        {{ expiration_date_month.errors?.min?.min }} and
        {{ expiration_date_month.errors?.max?.max }}
      </div>
    </div>
    <hr />
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="expiration_date_year">Expiration date year: </mat-label>
      <input matInput type="number" formControlName="expiration_date_year" />
    </mat-form-field>

    <div
      *ngIf="
        expiration_date_year.invalid &&
        (expiration_date_year.dirty || expiration_date_year.touched)
      "
    >
      <div *ngIf="expiration_date_year.errors?.required">Field is required</div>
      <div
        *ngIf="
          expiration_date_year.errors?.min?.min ||
          expiration_date_year.errors?.max?.max
        "
      >
        Must be between
        {{ expiration_date_year.errors?.min?.min }} and
        {{ expiration_date_year.errors?.max?.max }}
      </div>
    </div>
    <hr />
    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label for="issuer">Issuer: </mat-label>
      <input matInput type="text" formControlName="issuer" />
    </mat-form-field>

    <hr />
    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="creditCardForm.invalid"
    >
      Add credit card
    </button>
  </div>
</form>
<!-- <pre>
  errors:
  {{ csc_code.errors | json }}
</pre> -->
